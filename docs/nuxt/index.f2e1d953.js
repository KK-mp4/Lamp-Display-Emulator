import{a as N,b as k,r,o as C,e as D,f as o,w,v as U,t as y,h as P,u as Q,i as S,j as V}from"./entry.b3b2946f.js";const G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF+SURBVFhH7ZexTsMwEIYNQlRqGUBITB3gITp0ReIFWBiY2XkRBkYeAHVjLQgmpE7M7AjEwIDEQDNB4b/eb0qT0NjETkDqJ1l3f3K+O8dJ2pi6WaB14iV5+6A7k9XmknPewkAU3YB5UmVWkHxIPxfEt2BeVZk24h/p+yMrdl11HqXmc/Ix5a9BjiPvJlh8jbI0yLXs3ASLy74HRRZU2AQC3jFuKIOD3AOpQZmlsMMApGss0toTDVVRaeQutIrVW1Drmq6CAycYfcrooNY2Rpey2tVbUPNA7Nc9UBfzBuYN/JkGRngstuhHB7WadCdU+S6QdwDGePG1bQH+qo3Efm+gh66u6EcDNfZgblWlwMlDutGQy083i+zLzICSSG6pQTlmSnBf7mM0wZwPdu8tmZsQARcww5BNMFeC3Od6xAFM6oRoQnJgTH77fWEC70Zc5zl9wyGRvLn2VZlnXMoz+lMgbhdmXZU5RVxC/0e8Pk4FFNmE2VGV4RJF7+j/B4z5BHS17RdwEUwLAAAAAElFTkSuQmCC",M={class:"flex justify-center flex-wrap pt-2 flex-col items-center min-w-[300px]"},j=o("p",{class:"text-lg text-gray-300"},"Lamp Display Emulator by KK",-1),F=o("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/Lamp-Display-Emulator#readme",target:"_blank",rel:"noopener noreferrer"},"More info in GitHub",-1),W={class:"flex flex-wrap flex-row justify-center"},H={class:"w-[300px] mb-5"},L=o("p",{class:"mb-1 text-sm text-gray-300"},"Lamp texture resolution:",-1),T=V('<option value="1x1">1x1</option><option value="2x2">2x2</option><option value="4x4">4x4</option><option value="8x8">8x8</option><option value="16x16">16x16</option><option value="32x32">32x32</option>',6),Z=[T],z={class:"mb-1 text-sm text-gray-300"},Y={class:"w-[300px] mb-5"},J=o("p",{class:"mb-1 text-sm text-gray-300"},"Dithering algorithm:",-1),q=V('<option value="None">None</option><option value="Random noise">Random noise WIP</option><option value="Bayer 2x2">Bayer 2x2 WIP</option><option value="Bayer 4x4">Bayer 4x4 WIP</option><option value="Bayer 8x8">Bayer 8x8 WIP</option><option value="Floyd-Steinberg">Floyd-Steinberg WIP</option>',6),K=[q],O={class:"block mb-2 text-sm font-medium text-gray-300"},X={key:0,class:"animate-spin h-7 w-7",src:G},$={class:"w-full h-full flex justify-center",style:{"image-rendering":"pixelated"}},ee=["src"],ne=N({__name:"index",setup(te){k({title:"Generator"});const l=r("16x16"),b=r("");let a=16;const n=r(512);let g;const _=r("None"),m=r(128);let c=r(!1);async function B(){const i=Date.now();c.value=!0;const e=new Image;e.src=g,await new Promise(s=>{e.onload=()=>s(1)});let t=e.width,u=e.height;t>n.value&&(t=n.value),u>n.value&&(u=n.value);const v=document.createElement("canvas");v.width=t,v.height=u;const R=v.getContext("2d");R.drawImage(e,0,0,e.width,e.height);const A=new Image;A.src="./"+l.value+"/redstone_lamp_off.png",await new Promise(s=>{A.onload=()=>s(1)});const f=new Image;f.src="./"+l.value+"/redstone_lamp_on.png",await new Promise(s=>{f.onload=()=>s(1)});const p=document.createElement("canvas");p.width=t*a,p.height=u*a;const I=p.getContext("2d");for(let s=0;s<u;s++)for(let d=0;d<t;d++){const h=R.getImageData(d,s,1,1).data;.2126*h[0]+.7152*h[1]+.0722*h[2]>=m.value?I.drawImage(f,d*a,s*a):I.drawImage(A,d*a,s*a)}b.value=p.toDataURL(),c.value=!1,console.log(Date.now()-i+"ms - Calculation time")}async function E(i){if(i.target.files&&i.target.files[0]){let e=new FileReader;e.readAsDataURL(i.target.files[0]),e.onload=t=>{g=t.target.result,B()}}}async function x(){l.value==="1x1"?(a=1,n.value=8192):l.value==="2x2"?(a=2,n.value=4096):l.value==="4x4"?(a=4,n.value=2048):l.value==="8x8"?(a=8,n.value=1024):l.value==="32x32"?(a=32,n.value=256):(a=16,n.value=512),g&&B()}return(i,e)=>(C(),D("div",M,[j,F,o("div",W,[o("div",H,[L,w(o("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:e[1]||(e[1]=t=>x())},Z,544),[[U,l.value]]),o("p",z,"PNG or JPG ("+y(n.value)+"x"+y(n.value)+"px max)",1),o("input",{class:"block w-[90%] text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:e[2]||(e[2]=t=>E(t))},null,32)]),o("div",Y,[J,w(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>_.value=t),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:e[4]||(e[4]=t=>x())},K,544),[[U,_.value]]),o("label",O,"Threshold: "+y(m.value),1),w(o("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>m.value=t),type:"range",min:"0",max:"255",class:"w-[90%] h-2 rounded-lg appearance-none cursor-pointer bg-gray-700",onChange:e[6]||(e[6]=t=>x())},null,544),[[P,m.value]])])]),Q(c)?(C(),D("img",X)):S("",!0),o("div",$,[o("img",{src:b.value,class:"w-[75%]"},null,8,ee)])]))}});export{ne as default};
