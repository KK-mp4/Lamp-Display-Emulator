import{a as at,b as nt,r as B,o as U,e as D,f as v,w as R,v as O,t as E,h as Z,i as j,j as m,k as Q}from"./entry.882d10a4.js";function lt(t,d,l,e,o){const a=F(t,d,l);for(let r=0;r<l;++r)for(let n=0;n<d;++n){const s=r<e?r+1:e,c=n<e?n+1:e,b=a[n+1][r+1]-a[n+1][r+1-s]-a[n+1-c][r+1]+a[n+1-c][r+1-s],x=Math.floor(b/(s*c)),_=t.data[r*4*d+n*4]*.2125+t.data[r*4*d+n*4+1]*.7154+t.data[r*4*d+n*4+2]*.0721,p=Math.sqrt(Math.abs(_*_-x*x)),y=x+o*p,M=_>y?255:0;t.data.fill(M,r*4*d+n*4,r*4*d+n*4+3)}return t}function st(t,d,l,e,o){const a=F(t,d,l),r=256;for(let n=0;n<l;++n)for(let s=0;s<d;++s){const c=n<e?n+1:e,b=s<e?s+1:e,x=a[s+1][n+1]-a[s+1][n+1-c]-a[s+1-b][n+1]+a[s+1-b][n+1-c],_=Math.floor(x/(c*b)),p=t.data[n*4*d+s*4]*.2125+t.data[n*4*d+s*4+1]*.7154+t.data[n*4*d+s*4+2]*.0721,y=Math.sqrt(Math.abs(p*p-_*_)),M=_*(1+o*(y/r-1)),C=p>M?255:0;t.data.fill(C,n*4*d+s*4,n*4*d+s*4+3)}return t}function rt(t,d,l,e,o){const a=F(t,d,l);let r=0,n=255;for(let s=0;s<l;++s)for(let c=0;c<d;++c){const b=s<e?s+1:e,x=c<e?c+1:e,_=a[c+1][s+1]-a[c+1][s+1-b]-a[c+1-x][s+1]+a[c+1-x][s+1-b],p=Math.floor(_/(b*x)),y=t.data[s*4*d+c*4]*.2125+t.data[s*4*d+c*4+1]*.7154+t.data[s*4*d+c*4+2]*.0721;n=y<n?y:n;const M=Math.sqrt(Math.abs(y*y-p*p));r=M>r?M:r}for(let s=0;s<l;++s)for(let c=0;c<d;++c){const b=s<e?s+1:e,x=c<e?c+1:e,_=a[c+1][s+1]-a[c+1][s+1-b]-a[c+1-x][s+1]+a[c+1-x][s+1-b],p=Math.floor(_/(b*x)),y=t.data[s*4*d+c*4]*.2125+t.data[s*4*d+c*4+1]*.7154+t.data[s*4*d+c*4+2]*.0721,M=Math.sqrt(Math.abs(y*y-p*p)),C=(1-o)*p+o*n+o*(M/r*p-n),g=y>C?255:0;t.data.fill(g,s*4*d+c*4,s*4*d+c*4+3)}return t}function dt(t,d,l,e,o){const a=F(t,d,l);for(let r=0;r<l;++r)for(let n=0;n<d;++n){const s=r<e?r+1:e,c=n<e?n+1:e,b=a[n+1][r+1]-a[n+1][r+1-s]-a[n+1-c][r+1]+a[n+1-c][r+1-s],_=(t.data[r*4*d+n*4]*.2125+t.data[r*4*d+n*4+1]*.7154+t.data[r*4*d+n*4+2]*.0721)*s*c<b*(1-o)?0:255;t.data.fill(_,r*4*d+n*4,r*4*d+n*4+3)}return t}function F(t,d,l){for(var e=Array(d+1),o=0;o<d+1;o++)e[o]=Array(l+1).fill(0);for(let a=1;a<l+1;++a)for(let r=1;r<d+1;++r){const n=.2125*t.data[((a-1)*d+r-1)*4]+.7154*t.data[((a-1)*d+r-1)*4+1]+.0721*t.data[((a-1)*d+r-1)*4+2];e[r][a]=n+e[r-1][a]+e[r][a-1]-e[r-1][a-1]}return e}function ut(t,d){for(let l=0;l<t.data.length;l+=4){const a=(t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114+Math.random()*255)/2<d?0:255;t.data.fill(a,l,l+3)}return t}async function it(t,d){const l=new Image;l.src="./bluenoise.png",await new Promise(s=>{l.onload=()=>s(1)});const e=l.width,o=l.height,a=document.createElement("canvas");a.width=e,a.height=o;const r=a.getContext("2d",{willReadFrequently:!0});r.drawImage(l,0,0,e,o);const n=r.getImageData(0,0,e,o);for(let s=0;s<t.data.length;s+=4){const c=t.data[s]*.299+t.data[s+1]*.587+t.data[s+2]*.114,b=s/4%t.width,x=Math.floor(s/4/t.width),p=(c+n.data[b%e*4*e+x%o*4])/2<d?0:255;t.data.fill(p,s,s+3)}return t}function ct(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(.06711056*o+.00583715*a)%1*52.9829189%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function vt(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(o/1.324717957244746+a/(1.324717957244746*1.324717957244746))%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function ft(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(o/5+a*.6)%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function pt(t,d){const l=[[0,127],[192,63]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%2][r%2])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function ht(t,d){const l=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%4][r%4])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function wt(t,d){const l=[[0,128,32,160,8,136,40,168],[192,64,224,96,200,72,232,104],[48,176,16,144,56,184,24,152],[240,112,208,80,248,120,216,88],[12,140,44,172,4,132,36,164],[204,76,236,108,196,68,228,100],[60,188,28,156,52,180,20,148],[252,124,220,92,244,116,212,84]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%8][r%8])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function bt(t,d){const l=[[0,128,32,160],[64,192,96,224],[48,176,16,144],[112,240,80,208]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%4][r%4])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function xt(t,d){const l=[[167,200,230,216,181],[94,72,193,242,232],[36,52,222,167,200],[181,126,210,94,72],[232,153,111,36,52]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%5][r%5])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function yt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/16);t.data.fill(r,a,a+3),e[o+1]+=n*7,e[o+l-1]+=n*3,e[o+l]+=n*5,e[o+l+1]+=n}return t}function kt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/48);t.data.fill(r,a,a+3),e[o+1]+=n*7,e[o+2]+=n*5,e[o+l-2]+=n*3,e[o+l-1]+=n*5,e[o+l]+=n*7,e[o+l+1]+=n*5,e[o+l+2]+=n*3,e[o+l*2-2]+=n,e[o+l*2-1]+=n*3,e[o+l*2]+=n*5,e[o+l*2+1]+=n*3,e[o+l*2+2]+=n}return t}function _t(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/8);t.data.fill(r,a,a+3),e[o+1]+=n,e[o+2]+=n,e[o+l-1]+=n,e[o+l]+=n,e[o+l+1]+=n,e[o+2*l]+=n}return t}function Mt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/42);t.data.fill(r,a,a+3),e[o+1]+=n<<3,e[o+2]+=n<<2,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n<<3,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1,e[o+l*2-2]+=n,e[o+l*2-1]+=n<<1,e[o+l*2]+=n<<2,e[o+l*2+1]+=n<<1,e[o+l*2+2]+=n}return t}function Bt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/32);t.data.fill(r,a,a+3),e[o+1]+=n<<3,e[o+2]+=n<<2,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n<<3,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1}return t}function It(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/32);t.data.fill(r,a,a+3),e[o+1]+=n*5,e[o+2]+=n*3,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n*5,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1,e[o+l*2-1]+=n<<1,e[o+l*2]+=n*3,e[o+l*2+1]+=n<<1}return t}function Ct(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/16);t.data.fill(r,a,a+3),e[o+1]+=n<<2,e[o+2]+=n*3,e[o+l-2]+=n,e[o+l-1]+=n<<1,e[o+l]+=n*3,e[o+l+1]+=n<<1,e[o+l+2]+=n}return t}function Nt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/4);t.data.fill(r,a,a+3),e[o+1]+=n<<1,e[o+l-1]+=n,e[o+l]+=n}return t}function Rt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/200);t.data.fill(r,a,a+3),e[o+2]+=n<<5,e[o+l-3]+=n*12,e[o+l-1]+=n*26,e[o+l+1]+=n*30,e[o+l+3]+=n<<4,e[o+l*2-2]+=n*12,e[o+l*2]+=n*26,e[o+l*2+2]+=n*12,e[o+l*3-3]+=n*5,e[o+l*3-1]+=n*12,e[o+l*3+1]+=n*12,e[o+l*3+3]+=n*5}return t}const At=""+globalThis.__publicAssetsURL("load.png"),gt={class:"flex justify-center flex-wrap pt-2 flex-col items-center min-w-[300px]"},St=v("p",{class:"text-lg text-gray-300"},"Lamp Display Emulator by KK",-1),Ut=v("a",{class:"text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/Lamp-Display-Emulator#readme",target:"_blank",rel:"noopener noreferrer"},"More info in GitHub",-1),Dt=v("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://kk-mp4.github.io/RGB-Lamp-Display-Emulator/"},"RGB 3 bit version",-1),mt={class:"flex flex-wrap flex-row justify-center"},Lt={class:"w-[300px] mb-5"},Gt=v("p",{class:"mb-1 text-sm text-gray-300"},"Lamp texture resolution:",-1),Pt=Q('<option value="1x1">1x1</option><option value="2x2">2x2</option><option value="4x4">4x4</option><option value="8x8">8x8</option><option value="16x16">16x16</option><option value="32x32">32x32</option>',6),jt=[Pt],Jt={class:"mb-1 text-sm text-gray-300"},Vt={class:"mt-3"},$t=v("label",{for:"default-checkbox",class:"ml-1 text-xs font-medium text-gray-300"},"Gamma correction",-1),Et=v("label",{for:"default-checkbox",class:"ml-1 text-xs font-medium text-gray-300"},"Apply lamp texture",-1),Ft={class:"w-[300px] mb-5"},qt=v("p",{class:"mb-1 text-sm text-gray-300"},"Binarization algorithm:",-1),Tt=Q('<option value="None">None</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="Niblack">Niblack method</option><option value="Sauvola">Sauvola method</option><option value="Wulff">Wulff method</option><option value="Bradley-Roth">Bradley-Roth method</option>',6),Kt=[Tt],Ht={class:"flex flex-row w-[90%] mt-5 justify-between"},Ot={key:0,class:"w-[45%]"},Qt=v("p",{class:"mb-1 text-sm text-gray-300"},"Matrix radius:",-1),Xt={key:1,class:"w-[45%]"},Yt=v("p",{class:"mb-1 text-sm text-gray-300"},"Sensitivity:",-1),Zt={key:2,class:"w-[45%]"},zt=v("p",{class:"mb-1 text-sm text-gray-300"},"k:",-1),Wt={key:3,class:"w-[45%]"},te=v("p",{class:"mb-1 text-sm text-gray-300"},"a:",-1),ee={key:4,class:"w-[45%]"},oe=v("p",{class:"mb-1 text-sm text-gray-300"},"t:",-1),ae={class:"w-[300px] mb-5"},ne=v("p",{class:"mb-1 text-sm text-gray-300"},"Dithering algorithm:",-1),le=Q('<option value="None">None</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="White noise">White noise</option><option value="Blue noise">Blue noise</option><option value="Interleaved Gradient Noise">Interleaved Gradient noise</option><option value="R2">R2</option><option value="Plus">Plus</option><option value="Bayer 2x2">Bayer 2x2</option><option value="Bayer 4x4">Bayer 4x4</option><option value="Bayer 8x8">Bayer 8x8</option><option value="Pattern Halftoning">Pattern Halftoning</option><option value="Cluster dot">Cluster dot</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="Riemersma">WIP Riemersma</option><option value="Floyd-Steinberg">Floyd-Steinberg</option><option value="Gradient-based">WIP Gradient-based</option><option value="Lattice-Boltzmann">WIP Lattice-Boltzmann</option><option value="Jarvis-Judice-Ninke">Jarvis-Judice-Ninke</option><option value="Atkinson">Atkinson</option><option value="Stucki">Stucki</option><option value="Burkes">Burkes</option><option value="Sierra">Sierra</option><option value="Two-Row Sierra">Two-Row Sierra</option><option value="Sierra Lite">Sierra Lite</option><option value="Stevenson-Arce">Stevenson-Arce</option>',25),se=[le],re={class:"block mb-2 text-sm font-medium text-gray-300"},de={key:0,class:"animate-spin h-7 w-7 top-52 absolute",src:At},ue={class:"flex justify-center",style:{"image-rendering":"pixelated"}},ie=["src"],ce={key:1,class:"fixed bottom-5 right-5"},pe=at({__name:"index",setup(t){nt({title:"Generator"});const d=B("16x16"),l=B("");let e=16;const o=B(512);let a;const r=B("None"),n=B("None"),s=B(128),c=B(!1),b=B(0),x=B(!1),_=B(!0),p=B(15),y=B(-.2),M=B(.25),C=B(.15),g=B(.5);let J=document.createElement("canvas");J.width=16,J.height=16;let X=J.getContext("2d");async function q(){const f=Date.now();c.value=!0,et();const u=new Image;u.src=a,await new Promise(k=>{u.onload=()=>k(1)});let i=u.width,I=u.height;i>o.value&&(i=o.value),I>o.value&&(I=o.value);const P=document.createElement("canvas");P.width=i,P.height=I;const A=P.getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height);const w=A.getImageData(0,0,i,I);if(x.value){const k=z(w);A.putImageData(k,0,0)}let S=A.getImageData(0,0,i,I),h;if(n.value!="None")switch(n.value){case"Niblack":{lt(S,i,I,p.value,y.value);break}case"Sauvola":{st(S,i,I,p.value,M.value);break}case"Wulff":{rt(S,i,I,p.value,g.value);break}case"Bradley-Roth":{dt(S,i,I,p.value,C.value);break}}if(r.value!="None")switch(r.value){case"White noise":{h=ut(w,s.value);break}case"Blue noise":{h=await it(w,s.value);break}case"Interleaved Gradient Noise":{h=ct(w,s.value);break}case"R2":{h=vt(w,s.value);break}case"Plus":{h=ft(w,s.value);break}case"Bayer 2x2":{h=pt(w,s.value);break}case"Bayer 4x4":{h=ht(w,s.value);break}case"Bayer 8x8":{h=wt(w,s.value);break}case"Pattern Halftoning":{h=bt(w,s.value);break}case"Cluster dot":{h=xt(w,s.value);break}case"Riemersma":break;case"Floyd-Steinberg":{h=yt(w,s.value);break}case"Jarvis-Judice-Ninke":{h=kt(w,s.value);break}case"Atkinson":{h=_t(w,s.value);break}case"Stucki":{h=Mt(w,s.value);break}case"Burkes":{h=Bt(w,s.value);break}case"Sierra":{h=It(w,s.value);break}case"Two-Row Sierra":{h=Ct(w,s.value);break}case"Sierra Lite":{h=Nt(w,s.value);break}case"Stevenson-Arce":{h=Rt(w,s.value);break}}if(n.value!="None"&&r.value!="None"){for(let k=0;k<S.data.length;k+=4){const N=S.data[k]*.299+S.data[k+1]*.587+S.data[k+2]*.114;h.data[k]*=N/255,h.data[k+1]*=N/255,h.data[k+2]*=N/255}A.putImageData(h,0,0)}else n.value==="None"&&r.value!="None"?A.putImageData(h,0,0):n.value!="None"&&r.value==="None"&&A.putImageData(S,0,0);const K=new Image;K.src="./"+d.value+"/redstone_lamp_off.png",await new Promise(k=>{K.onload=()=>k(1)});const H=new Image;H.src="./"+d.value+"/redstone_lamp_on.png",await new Promise(k=>{H.onload=()=>k(1)});const $=document.createElement("canvas");$.width=i*e,$.height=I*e;const Y=$.getContext("2d");if(_.value){const k=A.getImageData(0,0,i,I);for(let N=0;N<I;N++)for(let L=0;L<i;L++).2126*k.data[(N*i+L)*4]+.7152*k.data[(N*i+L)*4+1]+.0722*k.data[(N*i+L)*4+2]>=s.value?Y.drawImage(H,L*e,N*e):Y.drawImage(K,L*e,N*e);l.value=$.toDataURL()}else l.value=P.toDataURL();c.value=!1,ot(),b.value=Date.now()-f}function z(f){for(let u=0;u<f.data.length;u+=4){const i=f.data[u]/255,I=f.data[u+1]/255,P=f.data[u+2]/255,A=.2126*T(i)+.7152*T(I)+.0722*T(P),w=W(A)*2.55;f.data.fill(w,u,u+3)}return f}function T(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function W(f){return f<=216/24389?f*(24389/27):Math.pow(f,1/3)*116-16}async function tt(f){if(f.target.files&&f.target.files[0]){let u=new FileReader;u.readAsDataURL(f.target.files[0]),u.onload=i=>{a=i.target.result,q()}}}async function G(){d.value==="1x1"?(e=1,o.value=8192):d.value==="2x2"?(e=2,o.value=4096):d.value==="4x4"?(e=4,o.value=2048):d.value==="8x8"?(e=8,o.value=1024):d.value==="32x32"?(e=32,o.value=256):(e=16,o.value=512),a&&q()}async function et(){const f=new Image;f.src="./faviconLoad.ico",await new Promise(i=>{f.onload=()=>i(1)}),X.drawImage(f,0,0,16,16),document.getElementById("favicon").setAttribute("href",J.toDataURL()),history.replaceState(null,null,window.location.hash=="#1"?"#0":"#1")}async function ot(){const f=new Image;f.src="./favicon.ico",await new Promise(i=>{f.onload=()=>i(1)}),X.drawImage(f,0,0,16,16),document.getElementById("favicon").setAttribute("href",J.toDataURL()),history.replaceState(null,null,window.location.hash=="#1"?"#0":"#1")}async function V(){p.value>25?p.value=25:p.value<1?p.value=1:p.value=Math.floor(p.value),y.value>.2?y.value=.2:y.value<-.2&&(y.value=-.2),M.value>=1?M.value=.9999:M.value<0&&(M.value=1e-4),g.value>10?g.value=10:g.value<-10&&(g.value=-10),C.value>1?C.value=1:C.value<0&&(C.value=0),a&&q()}return(f,u)=>(U(),D("div",gt,[St,Ut,Dt,v("div",mt,[v("div",Lt,[Gt,R(v("select",{"onUpdate:modelValue":u[0]||(u[0]=i=>d.value=i),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[1]||(u[1]=i=>G())},jt,544),[[O,d.value]]),v("p",Jt,"PNG or JPG ("+E(o.value)+"x"+E(o.value)+"px max)",1),v("input",{"aria-label":"Input for images to process",class:"block w-[90%] text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:u[2]||(u[2]=i=>tt(i))},null,32),v("div",Vt,[R(v("input",{"aria-label":"Gamma correct?","onUpdate:modelValue":u[3]||(u[3]=i=>x.value=i),onChange:u[4]||(u[4]=i=>G()),id:"Gamma correction",type:"checkbox",class:"w-3 h-3 text-blue-600 rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"},null,544),[[Z,x.value]]),$t,R(v("input",{"aria-label":"Render lamps?","onUpdate:modelValue":u[5]||(u[5]=i=>_.value=i),onChange:u[6]||(u[6]=i=>G()),id:"Apply lamp texture",type:"checkbox",class:"ml-7 w-3 h-3 text-blue-600 rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"},null,544),[[Z,_.value]]),Et])]),v("div",Ft,[qt,R(v("select",{"onUpdate:modelValue":u[7]||(u[7]=i=>n.value=i),class:"w-[90%] rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[8]||(u[8]=i=>G())},Kt,544),[[O,n.value]]),v("div",Ht,[n.value!="None"?(U(),D("div",Ot,[Qt,R(v("input",{"onUpdate:modelValue":u[9]||(u[9]=i=>p.value=i),type:"number",min:"1",step:"1",max:"25",id:"Matrix radius",onChange:u[10]||(u[10]=i=>V()),class:"block h-7 w-full rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[j,p.value]])])):m("",!0),n.value==="Niblack"?(U(),D("div",Xt,[Yt,R(v("input",{"onUpdate:modelValue":u[11]||(u[11]=i=>y.value=i),type:"number",min:"-0.2",step:"0.4",max:"0.2",id:"Sensitivity",onChange:u[12]||(u[12]=i=>V()),class:"block h-7 w-full rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[j,y.value]])])):m("",!0),n.value==="Sauvola"?(U(),D("div",Zt,[zt,R(v("input",{"onUpdate:modelValue":u[13]||(u[13]=i=>M.value=i),type:"number",id:"k",min:"0.0001",step:"0.01",max:"0.9999",onChange:u[14]||(u[14]=i=>V()),class:"block h-7 w-full rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[j,M.value]])])):m("",!0),n.value==="Wulff"?(U(),D("div",Wt,[te,R(v("input",{"onUpdate:modelValue":u[15]||(u[15]=i=>g.value=i),type:"number",id:"a",min:"-10",step:"0.1",max:"10",onChange:u[16]||(u[16]=i=>V()),class:"block h-7 w-full rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[j,g.value]])])):m("",!0),n.value==="Bradley-Roth"?(U(),D("div",ee,[oe,R(v("input",{"onUpdate:modelValue":u[17]||(u[17]=i=>C.value=i),type:"number",id:"t",min:"0",step:"0.05",max:"1",onChange:u[18]||(u[18]=i=>V()),class:"block h-7 w-full rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[j,C.value]])])):m("",!0)])]),v("div",ae,[ne,R(v("select",{"onUpdate:modelValue":u[19]||(u[19]=i=>r.value=i),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[20]||(u[20]=i=>G())},se,544),[[O,r.value]]),v("label",re,"Quantization threshold: "+E(s.value),1),R(v("input",{"aria-label":"Quantization threshold","onUpdate:modelValue":u[21]||(u[21]=i=>s.value=i),type:"range",min:"0",max:"255",class:"mb-4 w-[90%] h-2 rounded-lg appearance-none cursor-pointer bg-gray-700",onChange:u[22]||(u[22]=i=>G())},null,544),[[j,s.value]])])]),c.value?(U(),D("img",de)):m("",!0),v("div",ue,[l.value?(U(),D("img",{key:0,src:l.value,class:"min-w-[300px] w-[90vw] h-[70vh] object-contain"},null,8,ie)):m("",!0)]),l.value&&!c.value?(U(),D("p",ce,E(b.value)+" ms",1)):m("",!0)]))}});export{pe as default};
