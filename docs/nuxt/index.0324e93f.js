import{a as ot,b as at,r as I,o as S,e as U,f as v,w as R,v as K,t as H,h as Y,i as J,j as P,k as O}from"./entry.d6199c55.js";function nt(t,d,l,e,o){const a=$(t,d,l);for(let r=0;r<l;++r)for(let n=0;n<d;++n){const s=r<e?r+1:e,c=n<e?n+1:e,x=a[n+1][r+1]-a[n+1][r+1-s]-a[n+1-c][r+1]+a[n+1-c][r+1-s],y=Math.floor(x/(s*c)),p=t.data[r*4*d+n*4]*.2125+t.data[r*4*d+n*4+1]*.7154+t.data[r*4*d+n*4+2]*.0721,w=Math.sqrt(Math.abs(p*p-y*y)),k=y+o*w,M=p>k?255:0;t.data.fill(M,r*4*d+n*4,r*4*d+n*4+3)}return t}function lt(t,d,l,e,o){const a=$(t,d,l),r=256;for(let n=0;n<l;++n)for(let s=0;s<d;++s){const c=n<e?n+1:e,x=s<e?s+1:e,y=a[s+1][n+1]-a[s+1][n+1-c]-a[s+1-x][n+1]+a[s+1-x][n+1-c],p=Math.floor(y/(c*x)),w=t.data[n*4*d+s*4]*.2125+t.data[n*4*d+s*4+1]*.7154+t.data[n*4*d+s*4+2]*.0721,k=Math.sqrt(Math.abs(w*w-p*p)),M=p*(1+o*(k/r-1)),C=w>M?255:0;t.data.fill(C,n*4*d+s*4,n*4*d+s*4+3)}return t}function st(t,d,l,e,o){const a=$(t,d,l);let r=0,n=255;for(let s=0;s<l;++s)for(let c=0;c<d;++c){const x=s<e?s+1:e,y=c<e?c+1:e,p=a[c+1][s+1]-a[c+1][s+1-x]-a[c+1-y][s+1]+a[c+1-y][s+1-x],w=Math.floor(p/(x*y)),k=t.data[s*4*d+c*4]*.2125+t.data[s*4*d+c*4+1]*.7154+t.data[s*4*d+c*4+2]*.0721;n=k<n?k:n;const M=Math.sqrt(Math.abs(k*k-w*w));r=M>r?M:r}for(let s=0;s<l;++s)for(let c=0;c<d;++c){const x=s<e?s+1:e,y=c<e?c+1:e,p=a[c+1][s+1]-a[c+1][s+1-x]-a[c+1-y][s+1]+a[c+1-y][s+1-x],w=Math.floor(p/(x*y)),k=t.data[s*4*d+c*4]*.2125+t.data[s*4*d+c*4+1]*.7154+t.data[s*4*d+c*4+2]*.0721,M=Math.sqrt(Math.abs(k*k-w*w)),C=(1-o)*w+o*n+o*(M/r*w-n),D=k>C?255:0;t.data.fill(D,s*4*d+c*4,s*4*d+c*4+3)}return t}function rt(t,d,l,e,o){const a=$(t,d,l);for(let r=0;r<l;++r)for(let n=0;n<d;++n){const s=r<e?r+1:e,c=n<e?n+1:e,x=a[n+1][r+1]-a[n+1][r+1-s]-a[n+1-c][r+1]+a[n+1-c][r+1-s],p=(t.data[r*4*d+n*4]*.2125+t.data[r*4*d+n*4+1]*.7154+t.data[r*4*d+n*4+2]*.0721)*s*c<x*(1-o)?0:255;t.data.fill(p,r*4*d+n*4,r*4*d+n*4+3)}return t}function $(t,d,l){for(var e=Array(d+1),o=0;o<d+1;o++)e[o]=Array(l+1).fill(0);for(let a=1;a<l+1;++a)for(let r=1;r<d+1;++r){const n=.2125*t.data[((a-1)*d+r-1)*4]+.7154*t.data[((a-1)*d+r-1)*4+1]+.0721*t.data[((a-1)*d+r-1)*4+2];e[r][a]=n+e[r-1][a]+e[r][a-1]-e[r-1][a-1]}return e}function dt(t,d){for(let l=0;l<t.data.length;l+=4){const a=(t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114+Math.random()*255)/2<d?0:255;t.data.fill(a,l,l+3)}return t}async function ut(t,d){const l=new Image;l.src="./bluenoise.png",await new Promise(s=>{l.onload=()=>s(1)});const e=l.width,o=l.height,a=document.createElement("canvas");a.width=e,a.height=o;const r=a.getContext("2d",{willReadFrequently:!0});r.drawImage(l,0,0,e,o);const n=r.getImageData(0,0,e,o);for(let s=0;s<t.data.length;s+=4){const c=t.data[s]*.299+t.data[s+1]*.587+t.data[s+2]*.114,x=s/4%t.width,y=Math.floor(s/4/t.width),w=(c+n.data[x%e*4*e+y%o*4])/2<d?0:255;t.data.fill(w,s,s+3)}return t}function it(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(.06711056*o+.00583715*a)%1*52.9829189%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function ct(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(o/1.324717957244746+a/(1.324717957244746*1.324717957244746))%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function vt(t,d){for(let l=0;l<t.data.length;l+=4){const e=t.data[l]*.299+t.data[l+1]*.587+t.data[l+2]*.114,o=l/4%t.width,a=Math.floor(l/4/t.width),r=(o/5+a*.6)%1,s=(e+r*255)/2<d?0:255;t.data.fill(s,l,l+3)}return t}function ft(t,d){const l=[[0,127],[192,63]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%2][r%2])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function pt(t,d){const l=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%4][r%4])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function ht(t,d){const l=[[0,128,32,160,8,136,40,168],[192,64,224,96,200,72,232,104],[48,176,16,144,56,184,24,152],[240,112,208,80,248,120,216,88],[12,140,44,172,4,132,36,164],[204,76,236,108,196,68,228,100],[60,188,28,156,52,180,20,148],[252,124,220,92,244,116,212,84]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%8][r%8])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function wt(t,d){const l=[[0,128,32,160],[64,192,96,224],[48,176,16,144],[112,240,80,208]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%4][r%4])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function bt(t,d){const l=[[167,200,230,216,181],[94,72,193,242,232],[36,52,222,167,200],[181,126,210,94,72],[232,153,111,36,52]];for(let e=0;e<t.data.length;e+=4){const o=t.data[e]*.299+t.data[e+1]*.587+t.data[e+2]*.114,a=e/4%t.width,r=Math.floor(e/4/t.width),s=(o+l[a%5][r%5])/2<d?0:255;t.data.fill(s,e,e+3)}return t}function xt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/16);t.data.fill(r,a,a+3),e[o+1]+=n*7,e[o+l-1]+=n*3,e[o+l]+=n*5,e[o+l+1]+=n}return t}function yt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/48);t.data.fill(r,a,a+3),e[o+1]+=n*7,e[o+2]+=n*5,e[o+l-2]+=n*3,e[o+l-1]+=n*5,e[o+l]+=n*7,e[o+l+1]+=n*5,e[o+l+2]+=n*3,e[o+l*2-2]+=n,e[o+l*2-1]+=n*3,e[o+l*2]+=n*5,e[o+l*2+1]+=n*3,e[o+l*2+2]+=n}return t}function kt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/8);t.data.fill(r,a,a+3),e[o+1]+=n,e[o+2]+=n,e[o+l-1]+=n,e[o+l]+=n,e[o+l+1]+=n,e[o+2*l]+=n}return t}function _t(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/42);t.data.fill(r,a,a+3),e[o+1]+=n<<3,e[o+2]+=n<<2,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n<<3,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1,e[o+l*2-2]+=n,e[o+l*2-1]+=n<<1,e[o+l*2]+=n<<2,e[o+l*2+1]+=n<<1,e[o+l*2+2]+=n}return t}function Mt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/32);t.data.fill(r,a,a+3),e[o+1]+=n<<3,e[o+2]+=n<<2,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n<<3,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1}return t}function Bt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/32);t.data.fill(r,a,a+3),e[o+1]+=n*5,e[o+2]+=n*3,e[o+l-2]+=n<<1,e[o+l-1]+=n<<2,e[o+l]+=n*5,e[o+l+1]+=n<<2,e[o+l+2]+=n<<1,e[o+l*2-1]+=n<<1,e[o+l*2]+=n*3,e[o+l*2+1]+=n<<1}return t}function It(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/16);t.data.fill(r,a,a+3),e[o+1]+=n<<2,e[o+2]+=n*3,e[o+l-2]+=n,e[o+l-1]+=n<<1,e[o+l]+=n*3,e[o+l+1]+=n<<1,e[o+l+2]+=n}return t}function Ct(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/4);t.data.fill(r,a,a+3),e[o+1]+=n<<1,e[o+l-1]+=n,e[o+l]+=n}return t}function Nt(t,d){const l=t.width,e=new Uint8ClampedArray(t.width*t.height);for(let o=0,a=0;a<t.data.length;o++,a+=4)e[o]=t.data[a]*.299+t.data[a+1]*.587+t.data[a+2]*.114;for(let o=0,a=0;a<t.data.length;o++,a+=4){const r=e[o]<d?0:255,n=Math.floor((e[o]-r)/200);t.data.fill(r,a,a+3),e[o+2]+=n<<5,e[o+l-3]+=n*12,e[o+l-1]+=n*26,e[o+l+1]+=n*30,e[o+l+3]+=n<<4,e[o+l*2-2]+=n*12,e[o+l*2]+=n*26,e[o+l*2+2]+=n*12,e[o+l*3-3]+=n*5,e[o+l*3-1]+=n*12,e[o+l*3+1]+=n*12,e[o+l*3+3]+=n*5}return t}const Rt=""+globalThis.__publicAssetsURL("load.png"),At={class:"flex justify-center flex-wrap pt-2 flex-col items-center min-w-[300px]"},gt=v("p",{class:"text-lg text-gray-300"},"Lamp Display Emulator by KK",-1),St=v("a",{class:"text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/Lamp-Display-Emulator#readme",target:"_blank",rel:"noopener noreferrer"},"More info in GitHub",-1),Ut=v("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://kk-mp4.github.io/RGB-Lamp-Display-Emulator/",target:"_blank",rel:"noopener noreferrer"},"RGB 3 bit version",-1),Dt={class:"flex flex-wrap flex-row justify-center"},Lt={class:"w-[300px] mb-5"},Pt=v("p",{class:"mb-1 text-sm text-gray-300"},"Lamp texture resolution:",-1),Gt=O('<option value="1x1">1x1</option><option value="2x2">2x2</option><option value="4x4">4x4</option><option value="8x8">8x8</option><option value="16x16">16x16</option><option value="32x32">32x32</option>',6),mt=[Gt],Jt={class:"mb-1 text-sm text-gray-300"},Vt={class:"mt-3"},jt=v("label",{for:"default-checkbox",class:"ml-1 text-xsfont-medium text-gray-300"},"Gamma correction",-1),$t=v("label",{for:"default-checkbox",class:"ml-1 text-xs font-medium text-gray-300"},"Apply lamp texture",-1),Et={class:"w-[300px] mb-5"},Ft=v("p",{class:"mb-1 text-sm text-gray-300"},"Binarization algorithm:",-1),qt=O('<option value="None">None</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="Niblack">Niblack method</option><option value="Sauvola">Sauvola method</option><option value="Wulff">Wulff method</option><option value="Bradley-Roth">Bradley-Roth method</option>',6),Tt=[qt],Kt={class:"flex flex-row w-[90%]"},Ht={key:0,class:"w-[50%]"},Ot=v("p",{class:"mb-1 text-sm text-gray-300"},"Matrix radius:",-1),Qt={key:1,class:"w-[50%]"},Xt=v("p",{class:"mb-1 text-sm text-gray-300"},"Sensitivity:",-1),Yt={key:2,class:"w-[50%]"},Zt=v("p",{class:"mb-1 text-sm text-gray-300"},"k:",-1),zt={key:3,class:"w-[50%]"},Wt=v("p",{class:"mb-1 text-sm text-gray-300"},"a:",-1),te={key:4,class:"w-[50%]"},ee=v("p",{class:"mb-1 text-sm text-gray-300"},"t:",-1),oe={class:"w-[300px] mb-5"},ae=v("p",{class:"mb-1 text-sm text-gray-300"},"Dithering algorithm:",-1),ne=O('<option value="None">None</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="White noise">White noise</option><option value="Blue noise">Blue noise</option><option value="Interleaved Gradient Noise">Interleaved Gradient noise</option><option value="R2">R2</option><option value="Plus">Plus</option><option value="Bayer 2x2">Bayer 2x2</option><option value="Bayer 4x4">Bayer 4x4</option><option value="Bayer 8x8">Bayer 8x8</option><option value="Pattern Halftoning">Pattern Halftoning</option><option value="Cluster dot">Cluster dot</option><option class="text-[0px] bg-gray-500" disabled>\xA0</option><option value="Riemersma">WIP Riemersma</option><option value="Floyd-Steinberg">Floyd-Steinberg</option><option value="Gradient-based">WIP Gradient-based</option><option value="Lattice-Boltzmann">WIP Lattice-Boltzmann</option><option value="Jarvis-Judice-Ninke">Jarvis-Judice-Ninke</option><option value="Atkinson">Atkinson</option><option value="Stucki">Stucki</option><option value="Burkes">Burkes</option><option value="Sierra">Sierra</option><option value="Two-Row Sierra">Two-Row Sierra</option><option value="Sierra Lite">Sierra Lite</option><option value="Stevenson-Arce">Stevenson-Arce</option>',25),le=[ne],se={class:"block mb-2 text-sm font-medium text-gray-300"},re={key:0,class:"animate-spin h-7 w-7 top-52 absolute",src:Rt},de={class:"flex justify-center",style:{"image-rendering":"pixelated"}},ue=["src"],ve=ot({__name:"index",setup(t){at({title:"Generator"});const d=I("16x16"),l=I("");let e=16;const o=I(512);let a;const r=I("None"),n=I("None"),s=I(128),c=I(!1),x=I(!1),y=I(!0),p=I(15),w=I(-.2),k=I(.25),M=I(.15),C=I(.5);let D=document.createElement("canvas");D.width=16,D.height=16;let Q=D.getContext("2d");async function E(){const f=Date.now();c.value=!0,tt();const u=new Image;u.src=a,await new Promise(_=>{u.onload=()=>_(1)});let i=u.width,B=u.height;i>o.value&&(i=o.value),B>o.value&&(B=o.value);const m=document.createElement("canvas");m.width=i,m.height=B;const A=m.getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height);const b=A.getImageData(0,0,i,B);if(x.value){const _=Z(b);A.putImageData(_,0,0)}let g=A.getImageData(0,0,i,B),h;if(n.value!="None")switch(n.value){case"Niblack":{nt(g,i,B,p.value,w.value);break}case"Sauvola":{lt(g,i,B,p.value,k.value);break}case"Wulff":{st(g,i,B,p.value,C.value);break}case"Bradley-Roth":{rt(g,i,B,p.value,M.value);break}}if(r.value!="None")switch(r.value){case"White noise":{h=dt(b,s.value);break}case"Blue noise":{h=await ut(b,s.value);break}case"Interleaved Gradient Noise":{h=it(b,s.value);break}case"R2":{h=ct(b,s.value);break}case"Plus":{h=vt(b,s.value);break}case"Bayer 2x2":{h=ft(b,s.value);break}case"Bayer 4x4":{h=pt(b,s.value);break}case"Bayer 8x8":{h=ht(b,s.value);break}case"Pattern Halftoning":{h=wt(b,s.value);break}case"Cluster dot":{h=bt(b,s.value);break}case"Riemersma":break;case"Floyd-Steinberg":{h=xt(b,s.value);break}case"Jarvis-Judice-Ninke":{h=yt(b,s.value);break}case"Atkinson":{h=kt(b,s.value);break}case"Stucki":{h=_t(b,s.value);break}case"Burkes":{h=Mt(b,s.value);break}case"Sierra":{h=Bt(b,s.value);break}case"Two-Row Sierra":{h=It(b,s.value);break}case"Sierra Lite":{h=Ct(b,s.value);break}case"Stevenson-Arce":{h=Nt(b,s.value);break}}if(n.value!="None"&&r.value!="None"){for(let _=0;_<g.data.length;_+=4){const N=g.data[_]*.299+g.data[_+1]*.587+g.data[_+2]*.114;h.data[_]*=N/255,h.data[_+1]*=N/255,h.data[_+2]*=N/255}A.putImageData(h,0,0)}else n.value==="None"&&r.value!="None"?A.putImageData(h,0,0):n.value!="None"&&r.value==="None"&&A.putImageData(g,0,0);const q=new Image;q.src="./"+d.value+"/redstone_lamp_off.png",await new Promise(_=>{q.onload=()=>_(1)});const T=new Image;T.src="./"+d.value+"/redstone_lamp_on.png",await new Promise(_=>{T.onload=()=>_(1)});const j=document.createElement("canvas");j.width=i*e,j.height=B*e;const X=j.getContext("2d");if(y.value){const _=A.getImageData(0,0,i,B);for(let N=0;N<B;N++)for(let L=0;L<i;L++).2126*_.data[(N*i+L)*4]+.7152*_.data[(N*i+L)*4+1]+.0722*_.data[(N*i+L)*4+2]>=s.value?X.drawImage(T,L*e,N*e):X.drawImage(q,L*e,N*e);l.value=j.toDataURL()}else l.value=m.toDataURL();c.value=!1,et(),console.log(Date.now()-f+"ms - Calculation time")}function Z(f){for(let u=0;u<f.data.length;u+=4){const i=f.data[u]/255,B=f.data[u+1]/255,m=f.data[u+2]/255,A=.2126*F(i)+.7152*F(B)+.0722*F(m),b=z(A)*2.55;f.data.fill(b,u,u+3)}return f}function F(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function z(f){return f<=216/24389?f*(24389/27):Math.pow(f,1/3)*116-16}async function W(f){if(f.target.files&&f.target.files[0]){let u=new FileReader;u.readAsDataURL(f.target.files[0]),u.onload=i=>{a=i.target.result,E()}}}async function G(){d.value==="1x1"?(e=1,o.value=8192):d.value==="2x2"?(e=2,o.value=4096):d.value==="4x4"?(e=4,o.value=2048):d.value==="8x8"?(e=8,o.value=1024):d.value==="32x32"?(e=32,o.value=256):(e=16,o.value=512),a&&E()}async function tt(){const f=new Image;f.src="./faviconLoad.ico",await new Promise(i=>{f.onload=()=>i(1)}),Q.drawImage(f,0,0,16,16),document.getElementById("favicon").setAttribute("href",D.toDataURL()),history.replaceState(null,null,window.location.hash=="#1"?"#0":"#1")}async function et(){const f=new Image;f.src="./favicon.ico",await new Promise(i=>{f.onload=()=>i(1)}),Q.drawImage(f,0,0,16,16),document.getElementById("favicon").setAttribute("href",D.toDataURL()),history.replaceState(null,null,window.location.hash=="#1"?"#0":"#1")}async function V(){p.value>25?p.value=25:p.value<1?p.value=1:p.value=Math.floor(p.value),w.value>.2?w.value=.2:w.value<-.2&&(w.value=-.2),k.value>=1?k.value=.9999:k.value<0&&(k.value=1e-4),C.value>10?C.value=10:C.value<-10&&(C.value=-10),M.value>1?M.value=1:M.value<0&&(M.value=0),a&&E()}return(f,u)=>(S(),U("div",At,[gt,St,Ut,v("div",Dt,[v("div",Lt,[Pt,R(v("select",{"onUpdate:modelValue":u[0]||(u[0]=i=>d.value=i),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[1]||(u[1]=i=>G())},mt,544),[[K,d.value]]),v("p",Jt,"PNG or JPG ("+H(o.value)+"x"+H(o.value)+"px max)",1),v("input",{class:"block w-[90%] text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:u[2]||(u[2]=i=>W(i))},null,32),v("div",Vt,[R(v("input",{"onUpdate:modelValue":u[3]||(u[3]=i=>x.value=i),onChange:u[4]||(u[4]=i=>G()),id:"Gamma correction",type:"checkbox",class:"w-3 h-3 text-blue-600 rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"},null,544),[[Y,x.value]]),jt,R(v("input",{"onUpdate:modelValue":u[5]||(u[5]=i=>y.value=i),onChange:u[6]||(u[6]=i=>G()),id:"Apply lamp texture",type:"checkbox",class:"ml-3 w-3 h-3 text-blue-600 rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"},null,544),[[Y,y.value]]),$t])]),v("div",Et,[Ft,R(v("select",{"onUpdate:modelValue":u[7]||(u[7]=i=>n.value=i),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[8]||(u[8]=i=>G())},Tt,544),[[K,n.value]]),v("div",Kt,[n.value!="None"?(S(),U("div",Ht,[Ot,R(v("input",{"onUpdate:modelValue":u[9]||(u[9]=i=>p.value=i),type:"number",min:"1",step:"1",max:"25",id:"Matrix radius",onChange:u[10]||(u[10]=i=>V()),class:"block h-7 w-[90%] rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[J,p.value]])])):P("",!0),n.value==="Niblack"?(S(),U("div",Qt,[Xt,R(v("input",{"onUpdate:modelValue":u[11]||(u[11]=i=>w.value=i),type:"number",min:"-0.2",step:"0.4",max:"0.2",id:"Sensitivity",onChange:u[12]||(u[12]=i=>V()),class:"block h-7 w-[90%] rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[J,w.value]])])):P("",!0),n.value==="Sauvola"?(S(),U("div",Yt,[Zt,R(v("input",{"onUpdate:modelValue":u[13]||(u[13]=i=>k.value=i),type:"number",id:"k",min:"0.0001",step:"0.01",max:"0.9999",onChange:u[14]||(u[14]=i=>V()),class:"block h-7 w-[90%] rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[J,k.value]])])):P("",!0),n.value==="Wulff"?(S(),U("div",zt,[Wt,R(v("input",{"onUpdate:modelValue":u[15]||(u[15]=i=>C.value=i),type:"number",id:"a",min:"-10",step:"0.1",max:"10",onChange:u[16]||(u[16]=i=>V()),class:"block h-7 w-[90%] rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[J,C.value]])])):P("",!0),n.value==="Bradley-Roth"?(S(),U("div",te,[ee,R(v("input",{"onUpdate:modelValue":u[17]||(u[17]=i=>M.value=i),type:"number",id:"t",min:"0",step:"0.05",max:"1",onChange:u[18]||(u[18]=i=>V()),class:"block h-7 w-[90%] rounded-lg border sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"},null,544),[[J,M.value]])])):P("",!0)])]),v("div",oe,[ae,R(v("select",{"onUpdate:modelValue":u[19]||(u[19]=i=>r.value=i),class:"w-[90%] mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:u[20]||(u[20]=i=>G())},le,544),[[K,r.value]]),v("label",se,"Threshold: "+H(s.value),1),R(v("input",{"onUpdate:modelValue":u[21]||(u[21]=i=>s.value=i),type:"range",min:"0",max:"255",class:"mb-4 w-[90%] h-2 rounded-lg appearance-none cursor-pointer bg-gray-700",onChange:u[22]||(u[22]=i=>G())},null,544),[[J,s.value]])])]),c.value?(S(),U("img",re)):P("",!0),v("div",de,[l.value?(S(),U("img",{key:0,src:l.value,class:"w-[90vw] h-[70vh] object-contain"},null,8,ue)):P("",!0)])]))}});export{ve as default};
